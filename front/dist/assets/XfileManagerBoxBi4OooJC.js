import"./XvueVe3_Elhr.js";import e from"./XbaseManagerBpa1yr5F.js";import{e as l,al as s,o as t,c as o,a,C as i,Q as p,I as r,M as u,E as d,O as m,P as n}from"./X@vueCM7II4So.js";import"./X@element-plusCerOoRDG.js";import"./XfileUploadCAalf3sV.js";import"./Xindex3lybcBch.js";import"./XpiniaHbUHA5wR.js";import"./Xelement-plusCO1bik-q.js";import"./Xlodash-esBCrAzI1e.js";import"./X@vueuseDU8TvUvn.js";import"./X@popperjsD3lHDW-0.js";import"./X@ctrlD2oWfImC.js";import"./XdayjsBLCVIqfw.js";import"./Xcos-js-sdk-v5B2H1ItxU.js";import"./Xasync-validatorCuo4gI4y.js";import"./Xmemoize-oneDs0C_khL.js";import"./Xnormalize-wheel-esVn5vHDCm.js";import"./X@floating-uipMauM7H8.js";import"./XaxiosBh_nfBBj.js";import"./XmittCNZ6avp8.js";import"./Xvue-routerCYJBVSJE.js";import"./XnprogressCIdgZ774.js";import"./Xvue3-sfc-loaderDa78GGQm.js";import"./Xqiniu-jsD3ZZPLL7.js";import"./Xspark-md5D6_etk78.js";import"./Xexif-jsCAaicHrt.js";const j={style:{padding:"10px 0px",display:"flex","justify-content":"space-between"}},c={__name:"fileManagerBox",props:{multiple:{type:Number,default:1},selected:{type:Function,required:!1,default:e=>{}}},setup(c){const v=l(!1),f=c,X=l([]),y=()=>{v.value=!0},h=()=>{v.value=!1},g=()=>{f.selected(X.value),X.value=[],v.value=!1};return(l,f)=>{const x=s("UploadFilled"),b=s("el-icon"),k=s("el-button"),_=s("el-dialog");return t(),o(n,null,[a("div",{class:"upload-file-slot",onClick:y},[i(l.$slots,"default",{},(()=>[p(k,{type:"primary"},{default:r((()=>[p(b,null,{default:r((()=>[p(x)])),_:1}),u(" 文件上传 ")])),_:1})]))]),p(_,{modelValue:v.value,"onUpdate:modelValue":f[3]||(f[3]=e=>v.value=e),width:"70vw","show-close":!1,"before-close":h,"append-to-body":!0,style:{height:"70vh","background-color":"#f1f2f5"},"destroy-on-close":!0},{default:r((()=>[p(e,{modelValue:X.value,"onUpdate:modelValue":f[0]||(f[0]=e=>X.value=e),"select-key":"url",style:{width:"calc(100% + 10px)",height:"calc(70vh - 65px)"}},null,8,["modelValue"]),a("div",j,[a("span",{style:d({"font-size":"12px",color:X.value.length>c.multiple?"red":""})},m("已选 "+X.value.length+" 条 / 可选 "+c.multiple+" 条"),5),a("div",null,[p(k,{onClick:f[1]||(f[1]=e=>X.value=[])},{default:r((()=>[u("清空选择")])),_:1}),p(k,{type:"primary",onClick:g,disabled:X.value.length>c.multiple},{default:r((()=>[u("确定")])),_:1},8,["disabled"]),p(k,{type:"danger",onClick:f[2]||(f[2]=e=>v.value=!1)},{default:r((()=>[u("关闭")])),_:1})])])])),_:1},8,["modelValue"])],64)}}};export{c as default};
