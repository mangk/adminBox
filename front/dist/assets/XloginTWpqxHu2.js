import{r as _,a as f,u as k,b as C,c as I,d as e,e as g,w as l,v as S,f as i,o as q,g as z,p as U,h as B,i as $}from"./XindexC3pJmIlv.js";import{_ as N}from"./X_plugin-vue_export-helperDlAUqK2U.js";const P=n=>(U("data-v-c350b784"),n=n(),B(),n),R={class:"login-box"},T={class:"form-box"},j=P(()=>g("h2",{style:{color:"#666","margin-bottom":"30px"}},"登录",-1)),A={__name:"login",setup(n){const{proxy:v}=$(),p=_(),t=f({username:"",password:"",verification_code:"",captcha_id:""}),m=_(""),c=()=>{S().then(a=>{m.value=a.data.pic_path,t.captcha_id=a.data.captcha_id})};c();const b=f({username:[{required:!0,message:"填写用户名",trigger:"blur"}],password:[{required:!0,message:"填写密码",trigger:"blur"}],verification_code:[{required:!0,message:"填写验证码",trigger:"blur"}]}),h=k(),w=C(),y=async a=>{a&&await a.validate(async(o,u)=>{o?h.logIn(t).then(s=>{s?(console.log("tototo",s),w.push(s)):c()}):v.$message.error("请补全信息")})};return(a,o)=>{const u=i("el-image"),s=i("el-input"),d=i("el-form-item"),V=i("el-button"),x=i("el-form");return q(),I("div",R,[e(u,{src:"./images/login_bg.png"}),g("div",T,[e(x,{ref_key:"formRef",ref:p,model:t,rules:b,"status-icon":"","label-position":"top","show-all-levels":!1,style:{width:"100%"},"hide-required-asterisk":""},{default:l(()=>[j,e(d,{label:"用户名",prop:"username"},{default:l(()=>[e(s,{size:"large",modelValue:t.username,"onUpdate:modelValue":o[0]||(o[0]=r=>t.username=r)},null,8,["modelValue"])]),_:1}),e(d,{label:"密码",prop:"password"},{default:l(()=>[e(s,{size:"large",type:"password",modelValue:t.password,"onUpdate:modelValue":o[1]||(o[1]=r=>t.password=r)},null,8,["modelValue"])]),_:1}),e(d,{label:"验证码",class:"v-box",prop:"verification_code"},{default:l(()=>[e(s,{size:"large",modelValue:t.verification_code,"onUpdate:modelValue":o[2]||(o[2]=r=>t.verification_code=r),style:{width:"55%"}},null,8,["modelValue"]),e(u,{style:{width:"40%",height:"38px"},src:m.value,onClick:c},null,8,["src"])]),_:1}),e(d,{style:{"margin-top":"30px"}},{default:l(()=>[e(V,{size:"large",type:"primary",style:{width:"100%"},onClick:o[3]||(o[3]=r=>y(p.value))},{default:l(()=>[z("登录 ")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}},F=N(A,[["__scopeId","data-v-c350b784"]]);export{F as default};
